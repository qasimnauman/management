@page "/teams"

<div class="team-management-container">
    <div class="header-section">
        <h4 class="title">All Teams</h4>
        <button class="create-team-btn" data-bs-toggle="modal" data-bs-target="#createTeamModal">
            <span class="plus-icon">+</span> Create Team
        </button>
    </div>

    <div class="table-section">
        <div class="table-responsive-wrapper">
            <table class="team-table">
                <thead>
                    <tr>
                        <th>Team Name</th>
                        <th>Team Lead</th>
                        <th>Team Member</th>
                        <th>Modify</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var team in Teamss)
                    {
                        <tr class="team-row">
                            <td class="team-name">@team.Name</td>
                            <td>@team.Lead</td>
                            <td>@string.Join(", ", team.Members)</td>
                            <td>
                                <div class="modify-buttons">
                                    <button class="icon-button delete" data-bs-toggle="modal" data-bs-target="#deleteTeamModal">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                    <button class="icon-button edit" data-bs-toggle="modal" data-bs-target="#editTeamModal">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Create Team Modal -->
<div class="modal fade" id="createTeamModal" tabindex="-1" aria-labelledby="createTeamModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg rounded-lg">
            <div class="modal-body p-4">
                <!-- Title -->
                <h4 class="mb-4 fw-semibold">Create Team</h4>

                <form>
                    <!-- Team Name and Lead Row -->
                    <div class="row mb-3">
                        <!-- Team Name -->
                        <div class="col-md-6">
                            <label class="form-label fw-medium mb-2">Team Name</label>
                            <input type="text"
                                   class="form-control form-control-lg border-light-subtle"
                                   placeholder="Enter team name">
                        </div>

                        <!-- Team Lead -->
                        <div class="col-md-6">
                            <label class="form-label fw-medium mb-2">Team Lead</label>
                            <select class="form-select form-select-lg border-light-subtle">
                                @foreach (var lead in TeamLeads)
                                {
                                    <option value="@lead">@lead</option>
                                }
                            </select>
                        </div>
                    </div>

                    <!-- Team Members - Full Width -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <label class="form-label fw-medium mb-2">Team Member</label>
                            <select class="form-select form-select-lg border-light-subtle" multiple>
                                @foreach (var member in TeamMembers)
                                {
                                    <option value="@member">@member</option>
                                }
                            </select>
                        </div>
                    </div>

                    <!-- Preview Section -->
                    <div class="mt-4">
                        <h5 class="fw-medium mb-3">Preview</h5>
                        <div class="preview-section">
                            <div class="row">
                                <!-- Preview Team Name -->
                                <div class="col-6">
                                    <div class="mb-2">
                                        <span class="text-black">Team Name:</span>
                                    </div>
                                </div>
                                <!-- Preview Team Lead -->
                                <div class="col-6">
                                    <div class="mb-2">
                                        <span class="text-black">Team Lead:</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Team Member preview under the columns -->
                            <div class="row mt-2">
                                <div class="col-12">
                                    <div class="text-black">Team Member:</div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Create Button -->
                    <div class="text-end mt-4">
                        <button type="submit" class="btn btn-primary px-4 py-2 rounded-3">
                            Create
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div><!-- Edit Team Modal -->
<div class="modal fade" id="editTeamModal" tabindex="-1" aria-labelledby="editTeamModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content border-0 shadow-lg rounded-lg">
            <div class="modal-body p-4">
                <!-- Title -->
                <h4 class="mb-4 fw-semibold">Edit Team</h4>

                <form>
                    <!-- Team Name and Lead Row -->
                    <div class="row mb-3">
                        <!-- Team Name -->
                        <div class="col-md-6">
                            <label class="form-label fw-medium mb-2">Team Name</label>
                            <input type="text"
                                   class="form-control form-control-lg border-light-subtle"
                                   placeholder="Enter team name">
                        </div>

                        <!-- Team Lead -->
                        <div class="col-md-6">
                            <label class="form-label fw-medium mb-2">Team Lead</label>
                            <select class="form-select form-select-lg border-light-subtle">
                                @foreach (var lead in TeamLeads)
                                {
                                    <option value="@lead">@lead</option>
                                }
                            </select>
                        </div>
                    </div>

                    <!-- Team Members - Full Width -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <label class="form-label fw-medium mb-2">Team Member</label>
                            <select class="form-select form-select-lg border-light-subtle" multiple>
                                @foreach (var member in TeamMembers)
                                {
                                    <option value="@member">@member</option>
                                }
                            </select>
                        </div>
                    </div>

                    <div class="mt-4">
                        <h5 class="fw-medium mb-3">Preview</h5>
                        <div class="preview-section">
                            <div class="row">
                                <!-- Preview Team Name -->
                                <div class="col-6">
                                    <div class="mb-2">
                                        <span class="text-black">Team Name:</span>
                                    </div>
                                </div>
                                <!-- Preview Team Lead -->
                                <div class="col-6">
                                    <div class="mb-2">
                                        <span class="text-black">Team Lead:</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Team Member preview under the columns -->
                            <div class="row mt-2">
                                <div class="col-12">
                                    <div class="text-black">Team Member:</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Create Button -->
                    <div class="text-end mt-4">
                        <button type="submit" class="btn btn-primary px-4 py-2 rounded-3">
                            Save
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div><!-- Edit Team Modal -->

<div class="modal fade" id="deleteTeamModal" tabindex="-1" aria-labelledby="deleteTeamModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg rounded-lg">
            <div class="modal-body text-center p-4">
                <!-- Delete Icon -->
                <div class="delete-icon mb-3">
                    <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M60 25L55 65H25L20 25" fill="#E3F2FD" />
                        <path d="M65 20H15M35 20V15H45V20M25 65H55L60 25H20L25 65Z" stroke="#2196F3" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </div>

                <!-- Confirmation Text -->
                <h4 class="mb-4 fw-semibold">
                    Are You Sure You Want To Delete<br>The Team
                </h4>

                <!-- Action Buttons -->
                <div class="d-flex flex-column gap-3 mt-4">
                    <button type="button" class="btn btn-danger btn-lg" data-bs-dismiss="modal">
                        Yes, Delete
                    </button>
                    <button type="button" class="btn btn-link text-dark text-decoration-none" data-bs-dismiss="modal">
                        Keep Account
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private List<Team> Teamss = new List<Team>
    {
        new Team { Name = "Website Development", Lead = "Harish", Members = new List<string> { "Jeffrey", "Ali" } },
        new Team { Name = "Deployment Team", Lead = "Shahzeb", Members = new List<string> { "Claire", "Tyrone J" } },
        new Team { Name = "App Development", Lead = "Amjad", Members = new List<string> { "O'Connor", "Ali" } }
    };
    private List<string> TeamMembers = new List<string>
    {
        "Jeffrey", "Ali", "Claire", "O'Connor", "Tyrone J", "Robertson"
    };

    private List<string> TeamLeads = new List<string>
    {
        "Harish", "Shahzeb", "Amjad"
    };
    public class Team
    {
        public string Name { get; set; }
        public string Lead { get; set; }
        public List<string> Members { get; set; }
    }
}

<style>
    .team-management-container {
        padding: 24px;
        background-color: #f8f9fa;
        min-height: 100vh;
    }

    .header-section {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
    }

    .title {
        font-size: 24px;
        font-weight: 500;
        margin: 0;
    }

    .create-team-btn {
        background-color: #0d6efd;
        border: 1px solid #0d6efd;
        color: #fff ;
        padding: 8px 16px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s;
    }

        .create-team-btn:hover {
            background-color: #0d6efd;
            color: white;
        }

    .plus-icon {
        font-size: 16px;
        font-weight: 500;
    }

    .table-section {
        background-color: white;
        border-radius: 12px;
        padding: 24px;
        border: 1px #007bff; /* Blue border */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Optional: Light shadow for better visibility */
    }

    .table-responsive-wrapper {
        overflow-x: auto;
    }

    .team-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
    }

        .team-table th {
            color: #212529;
            font-weight: 500;
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

    .team-row td {
        padding: 16px;
        border-bottom: 1px solid #f1f1f1;
    }

      .modify-buttons {
        display: flex;
        gap: 8px;
        justify-content: flex-start;
    }

    .icon-button {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s;
    }

        .icon-button.delete {
            color: #dc3545;
            border: 1px solid #dc3545;
            background-color: transparent;
        }

            .icon-button.delete:hover {
                background-color: #dc3545;
                color: white;
            }

        .icon-button.edit {
            color: #0d6efd;
            border: 1px solid #0d6efd;
            background-color: transparent;
        }

            .icon-button.edit:hover {
                background-color: #0d6efd;
                color: white;
            }

    .modal-content {
        background-color: #fff;
        border-radius: 12px;
    }

    .form-control, .form-select {
        padding: 0.75rem 1rem;
        border-radius: 8px;
    }

        .form-control:focus, .form-select:focus {
            border-color: #0d6efd;
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.1);
        }

    .preview-section {
        border-radius: 8px;
        color: black;
        font-weight:bold;
        padding: 1rem;
    }

    .btn-primary {
        background-color: #0d6efd;
        border: none;
        font-weight: 500;
    }

        .btn-primary:hover {
            background-color: #0b5ed7;
        }

    .modal-content {
        background-color: #fff;
        border-radius: 16px;
    }

    .btn-danger {
        background-color: #FF0000;
        border: none;
        border-radius: 50px;
        padding: 12px 32px;
        font-weight: 500;
        transition: background-color 0.2s;
    }

        .btn-danger:hover {
            background-color: #E60000;
        }

    .btn-link {
        font-weight: 500;
        padding: 8px 16px;
    }

        .btn-link:hover {
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 50px;
        }

    .delete-icon {
        display: inline-block;
        padding: 16px;
    }
</style>
